!function(t,e){"use strict";function n(t){if("loading"!==e.readyState)return t();e.addEventListener("DOMContentLoaded",t)}function o(t){return fetch(t,{cache:"no-cache"}).then((function(t){if(!t.ok)throw new Error("Fetch failed: "+t.status);return t.text()}))}function r(t){for(var e=(t||"").replace(/\s+/g,""),n=atob(e),o=n.length,r=new Uint8Array(o),a=0;a<o;a++)r[a]=n.charCodeAt(a);return r}function a(t){try{if(!t||t.length<4)return"audio/mpeg";var e=String.fromCharCode(t[0],t[1],t[2],t[3]);if("RIFF"===e)return"audio/wav";if("OggS"===e)return"audio/ogg";if("ID3"===String.fromCharCode(t[0],t[1],t[2]))return"audio/mpeg";if(255===t[0]&&!(224&~t[1]))return"audio/mpeg"}catch(t){}return"audio/mpeg"}function i(t,e,n){n?t.classList.add(e):t.classList.remove(e)}function u(t){function n(){if(v){try{URL.revokeObjectURL(v)}catch(t){}v=null}}function u(e){i(t,"playing",e)}function d(e){i(t,"error",e)}function c(){try{if(!m||!h)return d(!0),void setTimeout((function(){d(!1)}),700);var t;0===h.indexOf("data:")?t=new Audio(h):(n(),g.src=h,t=g),u(!0);var e=t.play();e&&"function"==typeof e.then&&e.catch((function(){u(!1),d(!0),setTimeout((function(){d(!1)}),1e3)})),t!==g?(t.addEventListener("ended",(function(){u(!1)})),t.addEventListener("error",(function(){u(!1),d(!0),setTimeout((function(){d(!1)}),1e3)}))):(g.onended=function(){u(!1)},g.onerror=function(){u(!1),d(!0),setTimeout((function(){d(!1)}),1e3)})}catch(t){}}if(!t.__audioBase64Attached){t.__audioBase64Attached=!0;var f=t.getAttribute("data-audio-src");if(f){var l=t.getAttribute("data-audio-mode")||"auto",s=t.getAttribute("data-audio-mime")||null,h=null,v=null,m=!1,g=e.createElement("audio");g.preload="auto",g.style.display="none",e.body.appendChild(g),o(f).then((function(t){var e=(t||"").trim();if(!e)throw new Error("Empty audio file");if(/^data:audio\/.+;base64,/.test(e)&&"force-blob"!==l)return h=e,void(m=!0);var n=r(e),o=s||a(n)||"audio/mpeg";if("force-data"===l)return h="data:"+o+";base64,"+(e||""),void(m=!0);var i=new Blob([n],{type:o});v=URL.createObjectURL(i),h=v,m=!0})).catch((function(){d(!0),setTimeout((function(){d(!1)}),1e3)})),t.addEventListener("click",(function(){c()})),t.addEventListener("keydown",(function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),c())})),t.__audioBase64={play:c,unload:function(){n();try{g&&g.parentNode&&g.parentNode.removeChild(g)}catch(t){}}}}}}n((function(){for(var t=e.querySelectorAll("[data-audio-src]"),n=0;n<t.length;n++)u(t[n])})),t.AudioBase64={attach:u}}(window,document);