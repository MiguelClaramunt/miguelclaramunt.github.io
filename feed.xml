<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.4.1">Jekyll</generator><link href="https://claramunt.es/feed.xml" rel="self" type="application/atom+xml"/><link href="https://claramunt.es/" rel="alternate" type="text/html" hreflang="en"/><updated>2025-12-10T23:03:33+00:00</updated><id>https://claramunt.es/feed.xml</id><title type="html">blank</title><subtitle>A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. </subtitle><entry><title type="html">Site Update: Migrating to al-folio for a Data-Driven Resume</title><link href="https://claramunt.es/blog/2025/updates-personal-website/" rel="alternate" type="text/html" title="Site Update: Migrating to al-folio for a Data-Driven Resume"/><published>2025-11-12T00:00:00+00:00</published><updated>2025-11-12T00:00:00+00:00</updated><id>https://claramunt.es/blog/2025/updates-personal-website</id><content type="html" xml:base="https://claramunt.es/blog/2025/updates-personal-website/"><![CDATA[<p>I previously wrote about <a href="/blog/2025/building-personal-webpage/">building a simple webpage</a> using the <a href="https://mmistakes.github.io/minimal-mistakes/">Minimal Mistakes</a> theme. It was an excellent starting point, but Iâ€™ve recently migrated the site to <a href="https://github.com/alshedivat/al-folio">al-folio</a>.</p> <p>While Minimal Mistakes was great for getting off the ground, I began to feel limited. I wanted a platform I could expand on and learn from, and al-folio offered features that were simply too good to pass up.</p> <h2 id="the-reason-a-systematic-way-of-building-resumes">The Reason: A Systematic Way of Building Resumes</h2> <p>The main draw was al-folioâ€™s support for generating a structured resume from a single source.</p> <p>My previous setupâ€”a raw LaTeX resumeâ€”became cumbersome as my projects grew. Plus, <a href="https://www.overleaf.com/blog/changes-to-free-compile-timeouts-and-servers">compile timeouts on Overleaf</a> had become a real pain.</p> <p>With this new approach, I aim to maintain a single file for my experience, education, and skills. Adopting the <a href="https://jsonresume.org/">JSON Resume</a> philosophy allows for standardization, version control, and easy updates. Currently, I generate an interactive <a href="/cv">web-based CV</a> via the theme and a <a href="/assets/pdf/cv.pdf">PDF version</a> leveraged by <a href="https://github.com/rendercv/rendercv">rendercv</a>.</p> <h2 id="future-proofing-with-rendercv-and-typst">Future-Proofing with RenderCV and Typst</h2> <p>The ecosystem is evolving fast. Contributors are planning to migrate the main <a href="https://github.com/alshedivat/al-folio/pull/2969">resume logic to the rendercv schema</a>. This will eventually allow a single YAML file to render both the web and PDF versions of the resume seamlessly.</p> <p><code class="language-plaintext highlighter-rouge">rendercv</code> is built on <strong><a href="https://typst.app/">Typst</a></strong>, a modern typesetting system that offers considerable advantages over LaTeX, Markdown, and Word. Typst features real-time rendering, a more intuitive syntax, and superior handling of complex layouts.</p> <p>Moving toward a workflow that leverages Typst for typesetting while keeping my data in a structured format feels like the right long-term play.</p> <h2 id="final-thoughts">Final Thoughts</h2> <p>Minimal Mistakes remains a solid choice for a blog-focused site. However, if you want a portfolio that handles technical content well and turns your CV into a managed data object rather than a layout nightmare, I highly recommend checking out al-folio.</p>]]></content><author><name></name></author><category term="jekyll"/><category term="github-pages"/><category term="al-folio"/><category term="migration"/><category term="typst"/><category term="json-resume"/><summary type="html"><![CDATA[I previously wrote about building a simple webpage using the Minimal Mistakes theme. It was an excellent starting point, but Iâ€™ve recently migrated the site to al-folio.]]></summary></entry><entry><title type="html">Building a Simple Personal Webpage with GitHub Pages and Jekyll</title><link href="https://claramunt.es/blog/2025/building-personal-webpage/" rel="alternate" type="text/html" title="Building a Simple Personal Webpage with GitHub Pages and Jekyll"/><published>2025-01-13T00:00:00+00:00</published><updated>2025-01-13T00:00:00+00:00</updated><id>https://claramunt.es/blog/2025/building-personal-webpage</id><content type="html" xml:base="https://claramunt.es/blog/2025/building-personal-webpage/"><![CDATA[<blockquote> <p><strong>ðŸ‘‹ (12/11/2025) Heads-Up: This Post contains some parts that are obsolete</strong></p> <p>This article is still a decent introduction to the <em>general</em> concepts of GitHub Pages and Jekyll, but my personal site has moved on:</p> <ul> <li><strong>Theme:</strong> I no longer use or recommend <strong>Minimal Mistakes</strong>. I found it limiting as I wanted to expand. My site now runs on <strong>al-folio</strong>, which I chose for its superior features.</li> </ul> <p>For the most current story and setup, please read the follow-up post:</p> <p><strong><a href="/blog/2025/updates-personal-website">Read the Update: Why I Migrated from Minimal Mistakes to al-folio</a></strong></p> </blockquote> <p>As developers, we often find ourselves wanting to share our work, showcase our projects, and keep track of our milestones. Creating a personal webpage can be an effective way to document and centralize all aspects of my life, including education, work, and research experiences. In this blog post, Iâ€™ll walk you through the process of building a simple personal webpage using GitHub Pages and Jekyll.</p> <h2 id="building-the-site">Building the site</h2> <p><strong>Why GitHub Pages and Jekyll?</strong></p> <p><a href="https://pages.github.com/">GitHub Pages</a> is a free service provided by GitHub that allows you to host your website directly on their platform. You can easily deploy your website to the internet with just a few clicks. <a href="https://jekyllrb.com/">Jekyll</a>, on the other hand, is a popular static site generator that allows you to build websites quickly and efficiently. The latter is deeply integrated into GitHub Pages, generating a really interesting synergy by leveraging a free hosting site with templating.</p> <p><strong>How does it work?</strong></p> <p>Hereâ€™s an overview of how GitHub Pages and Jekyll work together:</p> <ol> <li><strong>Jekyll</strong>: You write your websiteâ€™s content in Markdown or HTML files, using Jekyllâ€™s syntax to generate a static site.</li> <li><strong>Jekyll Build</strong>: Jekyll builds your website by compiling the Markdown or HTML files into a static HTML file.</li> <li><strong>GitHub Pages</strong>: GitHub Pages hosts your static HTML file and makes it publicly accessible over the internet.</li> </ol> <p><strong>Benefits</strong></p> <p>Using GitHub Pages and Jekyll has several benefits:</p> <ul> <li><strong>Easy deployment</strong>: You can deploy your website to the internet with just a few clicks.</li> <li><strong>Fast performance</strong>: Since your website is built statically, it loads quickly even on slow networks.</li> <li><strong>Seamless version control</strong>: Your websiteâ€™s history is automatically tracked by GitHub, so you can easily revert to previous versions or collaborate with others.</li> </ul> <p><strong>Choosing a Theme</strong></p> <p>Jekyll comes with a wide range of pre-built themes that can be easily installed as packages. For my personal webpage, I chose <a href="https:/mmistakes.github.io/minimal-mistakes/">Minimal Mistakes</a>, which is a straightforward theme that provides a solid foundation for building my site. The documentation is extensive, making it easy to customize.</p> <p><strong>Liquid Template Engine</strong></p> <p>Jekyll uses the <a href="https://shopify.github.io/liquid/">Liquid template engine</a>, developed by <a href="https://www.shopify.com/">Shopify</a>, provides an easy-to-use way to load dynamic content within static webpages.</p> <p>Liquid also provides a range of built-in functions and filters that make it easy to perform common tasks, such as looping through data, formatting strings, and manipulating variables. This means you can focus on building your websiteâ€™s content and layout, without getting bogged down in the technical details of template rendering.</p> <p><strong>Setting up Analytics</strong></p> <p>Analytics provides valuable insights into your websiteâ€™s performance and helps you make data-driven decisions to improve engagement and conversions. I opted for <a href="https://www.cloudflare.com/web-analytics/">Cloudflare Web Analytics</a>, as this tool provides a range of features that make it easy to track your websiteâ€™s traffic, engagement, and other key metrics.</p> <p>One of the things I like about this tool is that itâ€™s GDPR compliant, which makes it an ideal choice for websites that need to comply with data protection regulations. Furthermore, it doesnâ€™t require cookies for its functionality, meaning you can track your websiteâ€™s performance and user behavior without compromising on security or privacy.</p> <h2 id="customizing-the-site-dynamically-display-different-avatars-on-loading">Customizing the site: Dynamically display different avatars on loading</h2> <p>To add some personality to my website, I created a simple script that dynamically displays different avatars on my <a href="/about">About</a> and <a href="/404">404</a> pages when loading using Liquid syntax and JavaScript.</p> <p><strong>Folder Structure</strong></p> <p>Hereâ€™s my project folder structure, this will be useful for understanding the following steps:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.
â””â”€â”€ assets/
    â””â”€â”€ images/
        â””â”€â”€ avatars/
            â”œâ”€â”€ avatarimage_0.png
            â”œâ”€â”€ avatarimage_1.png
            â”œâ”€â”€ avatarimage_2.png
            â””â”€â”€ ...
</code></pre></div></div> <p>First, we need to determine how many images we have available in our directory. In this section, weâ€™re looping through all static files, checking if their path contains the string <code class="language-plaintext highlighter-rouge">'assets/images/avatars/avatarimage_'</code>. If it does, we increment a counter variable <code class="language-plaintext highlighter-rouge">count</code>.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{% assign count = 0 %}
{% for file in site.static_files %}
  {% if file.path contains 'assets/images/avatars/avatarimage_' %}
    {% assign count = count | plus: 1 %}
  {% endif %}
{% endfor %}
</code></pre></div></div> <p>To create an image placeholder named <code class="language-plaintext highlighter-rouge">randomImage</code>, I used the following code:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;img</span> <span class="na">id=</span><span class="s">"randomImage"</span> <span class="na">src=</span><span class="s">""</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;script&gt;</span>
  <span class="kd">const</span> <span class="nx">randNum</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nf">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nf">random</span><span class="p">()</span> <span class="o">*</span> <span class="mi">9</span><span class="p">);</span>
  <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">randomImage</span><span class="dl">'</span><span class="p">).</span><span class="nx">src</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">assets/images/avatars/avatarimage_</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">randNum</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">.png</span><span class="dl">'</span><span class="p">;</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div> <p>Every time the page loads, a random number <code class="language-plaintext highlighter-rouge">randNum</code> within the range <code class="language-plaintext highlighter-rouge">[0, count)</code>, applies a floor function to extract the integer part, and uses it to build the path of an image from the <code class="language-plaintext highlighter-rouge">avatarimage_</code> naming scheme.</p> <p><strong>Conclusion</strong></p> <p>Building my personal webpage using GitHub Pages and Jekyll has been an incredibly rewarding experience. By leveraging these tools and technologies, Iâ€™ve created a dynamic and customizable website that showcases my projects, milestones, and experiences. If youâ€™re interested in learning how to build your own webpages or centralize your life documents, I highly recommend giving GitHub Pages and Jekyll a try!</p>]]></content><author><name></name></author><category term="jekyll"/><category term="github-pages"/><summary type="html"><![CDATA[ðŸ‘‹ (12/11/2025) Heads-Up: This Post contains some parts that are obsolete This article is still a decent introduction to the general concepts of GitHub Pages and Jekyll, but my personal site has moved on: Theme: I no longer use or recommend Minimal Mistakes. I found it limiting as I wanted to expand. My site now runs on al-folio, which I chose for its superior features. For the most current story and setup, please read the follow-up post: Read the Update: Why I Migrated from Minimal Mistakes to al-folio]]></summary></entry><entry><title type="html">Deploying an OpenAI Compatible Endpoint using FastChat</title><link href="https://claramunt.es/blog/2024/easy-fastchat-implementation/" rel="alternate" type="text/html" title="Deploying an OpenAI Compatible Endpoint using FastChat"/><published>2024-12-29T00:00:00+00:00</published><updated>2024-12-29T00:00:00+00:00</updated><id>https://claramunt.es/blog/2024/easy-fastchat-implementation</id><content type="html" xml:base="https://claramunt.es/blog/2024/easy-fastchat-implementation/"><![CDATA[<p>As a developer exploring open-source LLM tooling, I used FastChat to deploy an OpenAI-compatible endpoint. Below I explain the components, the deployment steps I followed, and sample requests/responses so you can reproduce the setup.</p> <h1 id="components-overview">Components Overview</h1> <p>FastChatâ€™s architecture has three main pieces I relied on:</p> <ul> <li><strong>Controller</strong>: Manages the Model Worker and handles incoming requests.</li> <li><strong>Model Worker</strong>: Loads the model and generates responses based on user input.</li> <li><strong>OpenAI compatible API Server</strong>: Handles client requests, forwards them to the Model Worker, and returns responses.</li> </ul> <h1 id="deployment-steps">Deployment Steps</h1> <p>To reproduce my environment I installed FastChat and started the three components. Minimal installation:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>fastchat
</code></pre></div></div> <ol> <li>Start the Controller, Model Worker, and OpenAI compatible API Server:</li> </ol> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python <span class="nt">-m</span> fastchat.serve.controller <span class="se">\</span>
  <span class="nt">--host</span> 127.0.0.1 &amp;
python <span class="nt">-m</span> fastchat.serve.model_worker <span class="se">\</span>
  <span class="nt">--host</span> 127.0.0.1 <span class="se">\</span>
  <span class="nt">--controller-address</span> http://127.0.0.1:21001 <span class="se">\</span>
  <span class="nt">--model-path</span> /path/to/model &amp;
python <span class="nt">-m</span> fastchat.serve.openai_api_server <span class="se">\</span>
<span class="nt">--host</span> 127.0.0.1 <span class="se">\</span>
<span class="nt">--controller-address</span> http://127.0.0.1:21001 <span class="se">\</span>
<span class="nt">--port</span> 8000
</code></pre></div></div> <p>Make sure to replace <code class="language-plaintext highlighter-rouge">/path/to/model</code> with the actual path to your model file and set the same <code class="language-plaintext highlighter-rouge">controller-address</code> argument for both <code class="language-plaintext highlighter-rouge">model_worker</code> and <code class="language-plaintext highlighter-rouge">openai_api_server</code>.</p> <p><strong>Client Requests and Response</strong></p> <p>Request file <code class="language-plaintext highlighter-rouge">request.json</code> has the following structure:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"messages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"system"</span><span class="p">,</span><span class="w"> </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"You are a helpful assistant."</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w"> </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"What is deep learning?"</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"max_tokens"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>Once the components are running, you can send requests to the OpenAI compatible API Server using a client of your choice (e.g., cURL):</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-X</span> POST <span class="se">\</span>
  http://127.0.0.1:8000/ <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  <span class="nt">-d</span> @request.json
</code></pre></div></div> <p>And the OpenAI compatible API server will return a response similar to the following:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chat.completion"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="mf">1734702969.6255138</span><span class="p">,</span><span class="w">
  </span><span class="nl">"model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/path/to/model"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"choices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"assistant"</span><span class="p">,</span><span class="w"> </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Deep learning is a subset of machine learning..."</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nl">"finish_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stop"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h1 id="benefits">Benefits</h1> <p>This approach offers several benefits, including:</p> <ul> <li><strong>Efficient Deployment</strong>: FastChat provides a reliable framework for deploying language models, allowing developers to concentrate on other project aspects.</li> <li><strong>Scalability</strong>: This architecture enables great scalability and flexibility by allowing the execution of multiple models concurrently on different ports.</li> <li><strong>Reliability</strong>: By separating concerns into distinct components, the system ensures reliability and reduces single-point failures.</li> <li><strong>Accessibility</strong>: As it is based on established open-source frameworks, there is ample documentation and resources available to learn and improve this framework. The API documentation for this deployment can also be accessed at <code class="language-plaintext highlighter-rouge">http://127.0.0.1:8000/docs</code>, assisting both users and third-party developers on how to use the tool and how to develop new products.</li> </ul> <p>By following these steps, you can deploy an OpenAI compatible Endpoint using FastChat, providing a robust and efficient solution for your language modeling needs.</p>]]></content><author><name></name></author><category term="llms"/><category term="fastchat"/><summary type="html"><![CDATA[As a developer exploring open-source LLM tooling, I used FastChat to deploy an OpenAI-compatible endpoint. Below I explain the components, the deployment steps I followed, and sample requests/responses so you can reproduce the setup.]]></summary></entry><entry><title type="html">Keeping My Product Database Lean: Eliminating Redundancy with a Clever Trigger</title><link href="https://claramunt.es/blog/2024/mercatracker-sql-trigger/" rel="alternate" type="text/html" title="Keeping My Product Database Lean: Eliminating Redundancy with a Clever Trigger"/><published>2024-12-23T00:00:00+00:00</published><updated>2024-12-26T00:00:00+00:00</updated><id>https://claramunt.es/blog/2024/mercatracker-sql-trigger</id><content type="html" xml:base="https://claramunt.es/blog/2024/mercatracker-sql-trigger/"><![CDATA[<p>As a data enthusiast, Iâ€™m constantly looking for ways to optimize my databases and improve efficiency. One of the biggest challenges in managing large datasets is combating redundancy. This led me on a quest to reduce my database size, resulting in a remarkable 95% through a clever trigger. Let me break down how I tackled this problem and the resulting impact on my data.</p> <h1 id="the-problem">The Problem</h1> <p>My database was plagued with duplicate entries, each meticulously reflecting the latest product additions or updates. This resulted in an unnecessarily large dataset that demanded significant storage space and hindered efficient queries. For example, each item added to the product catalogue would result in individual entries in my database. As Iâ€™m scraping around 5k items daily, in a hypothetical case where none of the items scraped within a month are updated, this would imply a total of 150k duplicate entries.</p> <h1 id="my-solution">My Solution</h1> <p>The key was to leverage triggersâ€”a special type of automated SQL code that executes when specific events occur within the database. My solution focused on incorporating a trigger that would automatically delete any duplicate entries based on certain criteria after new entries were created in my table called <code class="language-plaintext highlighter-rouge">dumps</code>.</p> <h1 id="how-it-works">How it works</h1> <p><strong>Trigger Definition:</strong> I created a TRIGGER which is executed whenever a new row is inserted into the table <code class="language-plaintext highlighter-rouge">dumps</code>.</p> <p><strong>Deletion Condition:</strong> Inside the trigger, I utilized the DELETE command to eliminate any duplicate entries based on these conditions:</p> <ul> <li> <p><code class="language-plaintext highlighter-rouge">rowid = NEW.rowid</code>: This ensures that only rows with identical <code class="language-plaintext highlighter-rouge">rowid</code> values are compared for duplicates.</p> </li> <li> <p><code class="language-plaintext highlighter-rouge">EXISTS (SELECT 1 FROM dumps ...)</code>: The heart of the solution lies here. We check if there already exists a row in my â€˜dumpsâ€™ table that:</p> <ul> <li>Has an id matching the <code class="language-plaintext highlighter-rouge">NEW.id</code> being added.</li> <li>Has a date <code class="language-plaintext highlighter-rouge">ymd</code> which is the last consecutive record to the new row inserted <code class="language-plaintext highlighter-rouge">NEW.ymd</code>.</li> <li>Has the same <code class="language-plaintext highlighter-rouge">content</code> as the newly inserted data.</li> </ul> </li> </ul> <p><strong>Outcome:</strong> This trigger effectively removes consecutive duplicate rows from my database table.</p> <p>Let me illustrate with an example: imagine a product with <code class="language-plaintext highlighter-rouge">id = 1</code> is added to the online catalogue:</p> <table> <thead> <tr> <th>id</th> <th>ymd</th> <th>content</th> <th>Comment</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">1</code></td> <td><code class="language-plaintext highlighter-rouge">20240101</code></td> <td><code class="language-plaintext highlighter-rouge">{price: 1.5}</code></td> <td>Initial record</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">1</code></td> <td><code class="language-plaintext highlighter-rouge">20240102</code></td> <td><code class="language-plaintext highlighter-rouge">{price: 1.5}</code></td> <td>This row would <strong>not</strong> be added as it is a duplicate.</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">1</code></td> <td><code class="language-plaintext highlighter-rouge">20240103</code></td> <td><code class="language-plaintext highlighter-rouge">{price: 2.0}</code></td> <td>This row would be added due to the price change.</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">1</code></td> <td><code class="language-plaintext highlighter-rouge">20240104</code></td> <td><code class="language-plaintext highlighter-rouge">{price: 1.5}</code></td> <td>This row would be also added.</td> </tr> </tbody> </table> <p>Resulting in the following code for this specific trigger:</p> <h1 id="code-snippet">Code Snippet</h1> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">TRIGGER</span> <span class="n">remove_consecutive_duplicates</span>
<span class="k">AFTER</span> <span class="k">INSERT</span> <span class="k">ON</span> <span class="n">dumps</span>
<span class="k">BEGIN</span>
  <span class="k">DELETE</span> <span class="k">FROM</span> <span class="n">dumps</span>
  <span class="k">WHERE</span> <span class="n">rowid</span> <span class="o">=</span> <span class="k">NEW</span><span class="p">.</span><span class="n">rowid</span> <span class="k">AND</span> <span class="k">EXISTS</span> <span class="p">(</span>
    <span class="k">SELECT</span> <span class="mi">1</span> <span class="k">FROM</span> <span class="n">dumps</span>
    <span class="k">WHERE</span> <span class="n">id</span> <span class="o">=</span> <span class="k">NEW</span><span class="p">.</span><span class="n">id</span>
      <span class="k">AND</span> <span class="n">ymd</span> <span class="o">=</span> <span class="p">(</span>
        <span class="k">SELECT</span> <span class="k">MAX</span><span class="p">(</span><span class="n">ymd</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">dumps</span>
        <span class="k">WHERE</span> <span class="n">id</span> <span class="o">=</span> <span class="k">NEW</span><span class="p">.</span><span class="n">id</span> <span class="k">AND</span> <span class="n">ymd</span> <span class="o">&lt;</span> <span class="k">NEW</span><span class="p">.</span><span class="n">ymd</span>
      <span class="p">)</span>
      <span class="k">AND</span> <span class="n">content</span> <span class="o">=</span> <span class="k">NEW</span><span class="p">.</span><span class="n">content</span>
  <span class="p">);</span>
<span class="k">END</span><span class="p">;</span>
</code></pre></div></div> <p>This experience taught me a valuable lesson: The right approach can significantly improve efficiency, reduce storage costs, and enhance my overall data analysis capabilities. By implementing a clever trigger, I managed to streamline my database for faster performance and less clutter!</p>]]></content><author><name></name></author><category term="sql"/><category term="optimization"/><summary type="html"><![CDATA[As a data enthusiast, Iâ€™m constantly looking for ways to optimize my databases and improve efficiency. One of the biggest challenges in managing large datasets is combating redundancy. This led me on a quest to reduce my database size, resulting in a remarkable 95% through a clever trigger. Let me break down how I tackled this problem and the resulting impact on my data.]]></summary></entry></feed>